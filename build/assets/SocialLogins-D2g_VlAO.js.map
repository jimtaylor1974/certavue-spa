{"version":3,"file":"SocialLogins-D2g_VlAO.js","sources":["../../node_modules/@react-oauth/google/dist/index.esm.js","../../src/components/social_logins/GoogleLoginButton.tsx","../../node_modules/react-ms-login/dist/react-ms-login.js","../../node_modules/react-ms-login/dist/authComplete.js","../../src/lib/joinPath.ts","../../src/components/social_logins/MicrosoftLoginButton.tsx","../../src/components/social_logins/SocialLogins.tsx"],"sourcesContent":["'use client'\nimport React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript(options = {}) {\r\n    const { nonce, onScriptLoadSuccess, onScriptLoadError } = options;\r\n    const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\r\n    const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\r\n    onScriptLoadSuccessRef.current = onScriptLoadSuccess;\r\n    const onScriptLoadErrorRef = useRef(onScriptLoadError);\r\n    onScriptLoadErrorRef.current = onScriptLoadError;\r\n    useEffect(() => {\r\n        const scriptTag = document.createElement('script');\r\n        scriptTag.src = 'https://accounts.google.com/gsi/client';\r\n        scriptTag.async = true;\r\n        scriptTag.defer = true;\r\n        scriptTag.nonce = nonce;\r\n        scriptTag.onload = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(true);\r\n            (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\r\n        };\r\n        scriptTag.onerror = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(false);\r\n            (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\r\n        };\r\n        document.body.appendChild(scriptTag);\r\n        return () => {\r\n            document.body.removeChild(scriptTag);\r\n        };\r\n    }, [nonce]);\r\n    return scriptLoadedSuccessfully;\r\n}\n\nconst GoogleOAuthContext = createContext(null);\r\nfunction GoogleOAuthProvider({ clientId, nonce, onScriptLoadSuccess, onScriptLoadError, children, }) {\r\n    const scriptLoadedSuccessfully = useLoadGsiScript({\r\n        nonce,\r\n        onScriptLoadSuccess,\r\n        onScriptLoadError,\r\n    });\r\n    const contextValue = useMemo(() => ({\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n    }), [clientId, scriptLoadedSuccessfully]);\r\n    return (React.createElement(GoogleOAuthContext.Provider, { value: contextValue }, children));\r\n}\r\nfunction useGoogleOAuth() {\r\n    const context = useContext(GoogleOAuthContext);\r\n    if (!context) {\r\n        throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\r\n    }\r\n    return context;\r\n}\n\nfunction extractClientId(credentialResponse) {\r\n    var _a;\r\n    const clientId = (_a = credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.clientId) !== null && _a !== void 0 ? _a : credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.client_id;\r\n    return clientId;\r\n}\n\nconst containerHeightMap = { large: 40, medium: 32, small: 20 };\r\nfunction GoogleLogin({ onSuccess, onError, useOneTap, promptMomentNotification, type = 'standard', theme = 'outline', size = 'large', text, shape, logo_alignment, width, locale, click_listener, containerProps, ...props }) {\r\n    const btnContainerRef = useRef(null);\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            ...props,\r\n        });\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.renderButton(btnContainerRef.current, {\r\n            type,\r\n            theme,\r\n            size,\r\n            text,\r\n            shape,\r\n            logo_alignment,\r\n            width,\r\n            locale,\r\n            click_listener,\r\n        });\r\n        if (useOneTap)\r\n            (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            if (useOneTap)\r\n                (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        useOneTap,\r\n        type,\r\n        theme,\r\n        size,\r\n        text,\r\n        shape,\r\n        logo_alignment,\r\n        width,\r\n        locale,\r\n    ]);\r\n    return (React.createElement(\"div\", { ...containerProps, ref: btnContainerRef, style: { height: containerHeightMap[size], ...containerProps === null || containerProps === void 0 ? void 0 : containerProps.style } }));\r\n}\n\nfunction googleLogout() {\r\n    var _a, _b, _c;\r\n    (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.disableAutoSelect();\r\n}\n\n/* eslint-disable import/export */\r\nfunction useGoogleLogin({ flow = 'implicit', scope = '', onSuccess, onError, onNonOAuthError, overrideScope, state, ...props }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const clientRef = useRef();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const onNonOAuthErrorRef = useRef(onNonOAuthError);\r\n    onNonOAuthErrorRef.current = onNonOAuthError;\r\n    useEffect(() => {\r\n        var _a, _b;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\r\n        const client = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2[clientMethod]({\r\n            client_id: clientId,\r\n            scope: overrideScope ? scope : `openid profile email ${scope}`,\r\n            callback: (response) => {\r\n                var _a, _b;\r\n                if (response.error)\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\r\n                (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\r\n            },\r\n            error_callback: (nonOAuthError) => {\r\n                var _a;\r\n                (_a = onNonOAuthErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onNonOAuthErrorRef, nonOAuthError);\r\n            },\r\n            state,\r\n            ...props,\r\n        });\r\n        clientRef.current = client;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [clientId, scriptLoadedSuccessfully, flow, scope, state]);\r\n    const loginImplicitFlow = useCallback((overrideConfig) => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestAccessToken(overrideConfig); }, []);\r\n    const loginAuthCodeFlow = useCallback(() => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestCode(); }, []);\r\n    return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\r\n}\n\nfunction useGoogleOneTapLogin({ onSuccess, onError, promptMomentNotification, cancel_on_tap_outside, prompt_parent_id, state_cookie_domain, hosted_domain, use_fedcm_for_prompt = false, disabled, auto_select, }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        if (disabled) {\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n            return;\r\n        }\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            hosted_domain,\r\n            cancel_on_tap_outside,\r\n            prompt_parent_id,\r\n            state_cookie_domain,\r\n            use_fedcm_for_prompt,\r\n            auto_select,\r\n        });\r\n        (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        cancel_on_tap_outside,\r\n        prompt_parent_id,\r\n        state_cookie_domain,\r\n        hosted_domain,\r\n        use_fedcm_for_prompt,\r\n        disabled,\r\n        auto_select,\r\n    ]);\r\n}\n\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\r\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\r\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOAuth, useGoogleOneTapLogin };\n","import {useState} from 'react';\r\nimport {GoogleOAuthProvider, useGoogleLogin} from '@react-oauth/google';\r\nimport {Button} from 'reactstrap';\r\nimport {LoginProvider, SocialAuthResult} from '../../types';\r\nimport useSocialAuthLogin from '../../api/auth/useSocialAuthLogin';\r\nimport useAppSettings from '../../hooks/useAppSettings';\r\n\r\ntype LoginButtonProps = {\r\n    className: string;\r\n    btnText: string;\r\n    onError: (err: unknown) => void;\r\n    onSocialAuthLogin: (socialAuthResult: SocialAuthResult) => void;\r\n};\r\n\r\nconst LoginButton = ({\r\n    className,\r\n    btnText,\r\n    onSocialAuthLogin,\r\n    onError\r\n}: LoginButtonProps) => {\r\n    const [awaitingResponse, setAwaitingResponse] = useState(false);\r\n    const socialAuthLogin = useSocialAuthLogin();\r\n\r\n    const successResponse = (response: {access_token: string}) => {\r\n        const auth = {\r\n            provider: LoginProvider.Google,\r\n            token: response.access_token\r\n        };\r\n\r\n        setAwaitingResponse(true);\r\n        socialAuthLogin\r\n            .mutateAsync(auth)\r\n            .then(onSocialAuthLogin)\r\n            .catch(onError)\r\n            .finally(() => setAwaitingResponse(false));\r\n    };\r\n\r\n    const login = useGoogleLogin({\r\n        onSuccess: tokenResponse => successResponse(tokenResponse),\r\n        onError: errorResponse => {\r\n            console.log('Google login failed');\r\n            onError(errorResponse);\r\n        }\r\n    });\r\n\r\n    const icon = (\r\n        <img\r\n            width=\"22px\"\r\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAALXSURBVFhH7ZVfSFNRHMe/u3dryzm32lTMKYY0pBRLRUsySpOeAh8iGj0UZCFFEVHZkyRBfyToxTcfQqiHHuzBerCIEvQh6A+UIWkrM2Q4sc01Hdvudm9n2xEd2ThnovhwP3C4v9/v7uFzz+/8zjQKARsQgT43HKoYL6oYL6oYL6oYL6u6+aWxUYSePUV0woWYewqKFIFozYWuYjf0B5uxqWYv/SU/GYnFPNMIdHVC+vSBVlZGW16JnPabEAsKaYUdbjFpdAT+jmtQ5ry0kh5dVS0sXd00Y4dLLDY7A1+rE8p8gFaSiPZiaEsdUGQZ0e/jkElb42h3lMFMpARTTiLngUts7vp5SB/f04xMTm4esi+1Q7+vgVaShIfeIDTQD9ONzoyk4jCLKb5hBB8eQ/CFnWydAMFqg+VBD8Rt/OeHBebrQp5+BH2lF6ZT3yBYIjCeubBmUnGYdyz6tgpY+JKI5agVusNT0IhiIl/kTn+YRiuz3yGioUxLs/Swiw3aSAv/JBNzPbQ1g8l4GU23F2i0Mi3VWlw8oqdZetb15o9EacAAu5ihiAZAKDiBmByj2RL2rZqUlW/W0DdJLMbUPB3sh99Uk3iOR3Nw0rMTA5NDiXw5vW1ZKet4nY6+SVJsZd8HdrF8J56HinB2rgFu2Yjuz48xNe+hb//FH1TQ906iGTnMZNWWpg5LOpjFDLZGvDKeBvmbTuSzIR/aXndgyL104S4y5pvA5Sc/4fYtzVVTuQhzFnsruW7+meBvnBi4goCUOn3F2QVwbNkOUSNgMuDGV98PaGQDDJ5z0AWrYSSD2NO6mZw59lZyicUZmR3H1eF78Ib9tJKe/HALbh1wYk8JexvjsH8CpcLmQG/zXVTn7aKV/1NiKsT9o/XcUnG4d2w5o14X+lwv4fL/IoMwjXAsAqvBgnKrA432OhwiSyDtzYRVia0lmX3OOqCK8aKK8aKK8aKK8QH8Bf9b+5uOTYk3AAAAAElFTkSuQmCC\"\r\n            alt=\"\"\r\n        />\r\n    );\r\n\r\n    return (\r\n        <Button\r\n            className={className}\r\n            onClick={() => login()}\r\n            disabled={awaitingResponse}\r\n        >\r\n            {icon}\r\n            <span className=\"ms-2\">{btnText}</span>\r\n        </Button>\r\n    );\r\n};\r\n\r\ntype GoogleLoginButtonProps = {\r\n    className: string;\r\n    btnText: string;\r\n    onError: (err: unknown) => void;\r\n    onSocialAuthLogin: (socialAuthResult: SocialAuthResult) => void;\r\n};\r\n\r\nconst GoogleLoginButton = ({\r\n    className,\r\n    btnText,\r\n    onError,\r\n    onSocialAuthLogin\r\n}: GoogleLoginButtonProps) => {\r\n    const {auth} = useAppSettings();\r\n    return (\r\n        <GoogleOAuthProvider clientId={auth.google.clientId}>\r\n            <LoginButton\r\n                className={className}\r\n                btnText={btnText}\r\n                onSocialAuthLogin={onSocialAuthLogin}\r\n                onError={onError}\r\n            />\r\n        </GoogleOAuthProvider>\r\n    );\r\n};\r\n\r\nexport default GoogleLoginButton;\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar ReactLoginMS = function (_React$Component) {\n    _inherits(ReactLoginMS, _React$Component);\n\n    function ReactLoginMS(props) {\n        _classCallCheck(this, ReactLoginMS);\n\n        var _this = _possibleConstructorReturn(this, (ReactLoginMS.__proto__ || Object.getPrototypeOf(ReactLoginMS)).call(this, props));\n\n        _this.startOAuth = _this.startOAuth.bind(_this);\n        _this.getOAuthUrl = _this.getOAuthUrl.bind(_this);\n\n        if (!_this.props.clientId) throw new Error(\"invalid clientId provided for react-ms-login\");\n        if (!_this.props.redirectUri) throw new Error(\"invalid redirectUri provided for react-ms-login\");\n\n        _this.state = {\n            clientId: _this.props.clientId,\n            redirectUri: _this.props.redirectUri,\n            scopes: _this.props.scopes || [\"user.read\"],\n            responseType: _this.props.responseType || \"token\"\n        };\n\n        _this.oauthUrl = \"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\";\n        return _this;\n    }\n\n    _createClass(ReactLoginMS, [{\n        key: \"getOAuthUrl\",\n        value: function getOAuthUrl() {\n            var scopes = encodeURIComponent(this.state.scopes.join(\" \"));\n            var oauthUri = this.oauthUrl + \"?client_id=\" + this.state.clientId + \"&response_type=\" + this.state.responseType + (\"&redirect_uri=\" + encodeURIComponent(this.state.redirectUri)) + (\"&scope=\" + scopes + \"&response_mode=fragment\");\n\n            return oauthUri;\n        }\n    }, {\n        key: \"startOAuth\",\n        value: function startOAuth() {\n            var popup = function popup(url, title, w, h) {\n                var left = screen.width / 2 - w / 2;\n                var top = screen.height / 2 - h / 2;\n                return window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);\n            };\n\n            var _authCompleteCb = function (data) {\n                this.props.handleLogin(data);\n            }.bind(this);\n\n            window.authScope = {\n                authCompletedCB: _authCompleteCb\n            };\n\n            popup(this.getOAuthUrl(), \"Microsoft Sign In\", 600, 750);\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var cssClasses = \"btn-microsoft-login \" + this.props.cssClass;\n            var btnContent = \"Sign in with Microsoft\";\n\n            if (this.props.btnContent) {\n                if (typeof this.props.btnContent === \"function\") btnContent = _jsx(this.props.btnContent, {});else btnContent = this.props.btnContent;\n            }\n\n            return _jsx(\"button\", {\n                type: \"button\",\n                className: cssClasses,\n                onClick: this.startOAuth\n            }, void 0, btnContent);\n        }\n    }]);\n\n    return ReactLoginMS;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ReactLoginMS;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=react-ms-login.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nwindow.ReactLoginMS = {\n    authComplete: authComplete\n};\n\nfunction authComplete() {\n    function getFragment() {\n        if (window.location.hash.indexOf(\"#\") === 0) {\n            return parseQueryString(window.location.hash.substr(1));\n        } else {\n            return {};\n        }\n    };\n\n    function parseQueryString(queryString) {\n        var data = {},\n            pairs,\n            pair,\n            separatorIndex,\n            escapedKey,\n            escapedValue,\n            key,\n            value;\n\n        if (queryString === null) {\n            return data;\n        }\n\n        pairs = queryString.split(\"&\");\n\n        for (var i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n            separatorIndex = pair.indexOf(\"=\");\n\n            if (separatorIndex === -1) {\n                escapedKey = pair;\n                escapedValue = null;\n            } else {\n                escapedKey = pair.substr(0, separatorIndex);\n                escapedValue = pair.substr(separatorIndex + 1);\n            }\n\n            key = decodeURIComponent(escapedKey);\n            value = decodeURIComponent(escapedValue);\n\n            data[key] = value;\n        }\n\n        return data;\n    }\n\n    var fragment = getFragment();\n\n    window.location.hash = fragment.state || '';\n\n    window.opener.authScope.authCompletedCB(fragment);\n\n    window.close();\n}\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=authComplete.js.map","export default function joinPath(...paths: (string | string[])[]): string {\r\n    const pathsArray =\r\n        paths.length === 1 && Array.isArray(paths[0]) ? paths[0] : paths;\r\n\r\n    return (pathsArray as string[])\r\n        .map(path => path.replace(/(^\\/|\\/$)/g, ''))\r\n        .filter(path => path !== '')\r\n        .join('/');\r\n}\r\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport ReactLoginMS from 'react-ms-login';\r\nimport 'react-ms-login/dist/authComplete.js';\r\nimport useAppSettings from '../../hooks/useAppSettings';\r\nimport joinPath from '../../lib/joinPath';\r\n\r\ntype MicrosoftLoginButtonProps = {\r\n    className: string;\r\n    btnText: string;\r\n};\r\n\r\nconst MicrosoftLoginButton = ({\r\n    className,\r\n    btnText\r\n}: MicrosoftLoginButtonProps) => {\r\n    const {auth} = useAppSettings();\r\n\r\n    const icon = (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"21\"\r\n            height=\"21\"\r\n            viewBox=\"0 0 21 21\"\r\n        >\r\n            <title>MS-SymbolLockup</title>\r\n            <rect x=\"1\" y=\"1\" width=\"9\" height=\"9\" fill=\"#f25022\" />\r\n            <rect x=\"1\" y=\"11\" width=\"9\" height=\"9\" fill=\"#00a4ef\" />\r\n            <rect x=\"11\" y=\"1\" width=\"9\" height=\"9\" fill=\"#7fba00\" />\r\n            <rect x=\"11\" y=\"11\" width=\"9\" height=\"9\" fill=\"#ffb900\" />\r\n        </svg>\r\n    );\r\n\r\n    const clientRedirectUri = `${location.protocol}//${location.hostname}${\r\n        location.port ? ':' + location.port : ''\r\n    }`;\r\n\r\n    return (\r\n        <ReactLoginMS\r\n            clientId={auth.microsoft.clientId}\r\n            redirectUri={joinPath(clientRedirectUri, 'ms_auth')}\r\n            scopes={['user.read']}\r\n            cssClass={`btn btn-outline-primary ${className}`}\r\n            btnContent={\r\n                <>\r\n                    {icon}\r\n                    <span className=\"ms-2\">{btnText}</span>\r\n                </>\r\n            }\r\n            options={{\r\n                prompt: 'select_account'\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default MicrosoftLoginButton;\r\n","import {useState} from 'react';\r\nimport {useNavigate, useLocation} from 'react-router-dom';\r\nimport GoogleLoginButton from './GoogleLoginButton';\r\nimport MicrosoftLoginButton from './MicrosoftLoginButton';\r\nimport ErrorDisplay from '../utility/ErrorDisplay';\r\nimport {SocialAuthResult} from '../../types';\r\nimport {useAuthStateManager} from '../../hooks/useAuthStateManager';\r\nimport useAppSettings from '../../hooks/useAppSettings';\r\n\r\ntype SocialLoginsProps = {\r\n    registration: boolean;\r\n};\r\n\r\nconst SocialLogins = ({registration}: SocialLoginsProps) => {\r\n    const {auth} = useAppSettings();\r\n    const [apiError, setApiError] = useState<unknown>(null);\r\n    const {state} = useLocation();\r\n    const navigate = useNavigate();\r\n    const authStateManager = useAuthStateManager();\r\n\r\n    const onSocialAuthLogin = (socialAuthResult: SocialAuthResult) => {\r\n        if (socialAuthResult.authError) {\r\n            if (socialAuthResult.authError.error === 'invalid_grant') {\r\n                const {provider, token, lastName, firstName, email} =\r\n                    socialAuthResult;\r\n\r\n                navigate('/user-registration-social', {\r\n                    state: {\r\n                        provider,\r\n                        token,\r\n                        lastName,\r\n                        firstName,\r\n                        email\r\n                    }\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            setApiError(socialAuthResult.authError);\r\n            return;\r\n        }\r\n\r\n        if (socialAuthResult.authTokens) {\r\n            authStateManager.onAuthenticated(socialAuthResult.authTokens);\r\n            const to = (state as {redir?: string} | null)?.redir || '/';\r\n            navigate(to);\r\n            return;\r\n        }\r\n\r\n        console.error(socialAuthResult);\r\n        setApiError('Unable to complete login or registration.');\r\n    };\r\n\r\n    const onError = (authError: unknown) => {\r\n        setApiError(authError);\r\n    };\r\n\r\n    const action = registration ? 'Continue' : 'Login';\r\n\r\n    return (\r\n        <div>\r\n            {auth.microsoft.enabled && (\r\n                <div>\r\n                    <MicrosoftLoginButton\r\n                        className=\"btnMicrosoft mb-2\"\r\n                        btnText={`${action} with Microsoft`}\r\n                    />\r\n                </div>\r\n            )}\r\n            {auth.google.enabled && (\r\n                <div>\r\n                    <GoogleLoginButton\r\n                        className=\"btnGoogle mb-2\"\r\n                        btnText={`${action} with Google`}\r\n                        onSocialAuthLogin={onSocialAuthLogin}\r\n                        onError={onError}\r\n                    />\r\n                </div>\r\n            )}\r\n            {apiError ? (\r\n                <ErrorDisplay\r\n                    error={apiError}\r\n                    onDismiss={() => setApiError(null)}\r\n                />\r\n            ) : null}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SocialLogins;\r\n"],"names":["useLoadGsiScript","options","nonce","onScriptLoadSuccess","onScriptLoadError","scriptLoadedSuccessfully","setScriptLoadedSuccessfully","useState","onScriptLoadSuccessRef","useRef","onScriptLoadErrorRef","useEffect","scriptTag","_a","GoogleOAuthContext","createContext","GoogleOAuthProvider","clientId","children","contextValue","useMemo","React","useGoogleOAuth","context","useContext","useGoogleLogin","flow","scope","onSuccess","onError","onNonOAuthError","overrideScope","state","props","clientRef","onSuccessRef","onErrorRef","onNonOAuthErrorRef","_b","clientMethod","client","response","nonOAuthError","loginImplicitFlow","useCallback","overrideConfig","loginAuthCodeFlow","LoginButton","className","btnText","onSocialAuthLogin","awaitingResponse","setAwaitingResponse","socialAuthLogin","useSocialAuthLogin","successResponse","auth","LoginProvider","login","tokenResponse","errorResponse","icon","jsx","jsxs","Button","GoogleLoginButton","useAppSettings","root","factory","module","require$$0","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","installedModules","__webpack_require__","moduleId","value","exports","name","getter","object","property","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","_jsx","REACT_ELEMENT_TYPE","type","key","defaultProps","childrenLength","propName","childArray","i","_createClass","defineProperties","target","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","_possibleConstructorReturn","self","call","_inherits","subClass","superClass","ReactLoginMS","_React$Component","_this","scopes","oauthUri","popup","url","title","w","h","left","top","_authCompleteCb","data","cssClasses","btnContent","authComplete","getFragment","parseQueryString","queryString","pairs","pair","separatorIndex","escapedKey","escapedValue","fragment","joinPath","paths","path","MicrosoftLoginButton","clientRedirectUri","Fragment","SocialLogins","registration","apiError","setApiError","useLocation","navigate","useNavigate","authStateManager","useAuthStateManager","socialAuthResult","provider","token","lastName","firstName","email","to","authError","action","ErrorDisplay"],"mappings":"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","x_google_ignoreList":[0,2,3]}