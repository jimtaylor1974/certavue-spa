{"version":3,"file":"TeamsPage-CftgN42o.js","sources":["../../src/components/main/teams/TeamsPage.tsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {Table, Button} from 'reactstrap';\r\nimport {PlusCircle, Edit} from 'lucide-react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport Spinner from '../../utility/Spinner';\r\nimport Search from '../../utility/Search';\r\nimport ErrorDisplay from '../../utility/ErrorDisplay';\r\nimport Pagination, {getRowsPerPage} from '../../utility/Pagination';\r\nimport useGetPagedTeams from '../../../api/teams/useGetPagedTeams';\r\n\r\nconst TeamsPage: React.FC = () => {\r\n    const [page, setPage] = useState(1);\r\n    const [perPage, setPerPage] = useState(getRowsPerPage());\r\n    const [search, setSearch] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const onPerPageSelected = (perPage: number) => {\r\n        setPage(1);\r\n        setPerPage(perPage);\r\n    };\r\n\r\n    const {\r\n        data: pagedResult,\r\n        error: apiError,\r\n        isLoading: awaitingResponse,\r\n        refetch: fetchTeams\r\n    } = useGetPagedTeams(page, perPage, search);\r\n\r\n    if (awaitingResponse) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if (apiError) {\r\n        return (\r\n            <ErrorDisplay\r\n                error={apiError}\r\n                title=\"Unable to fetch teams\"\r\n                onDismiss={() => fetchTeams()}\r\n            />\r\n        );\r\n    }\r\n\r\n    // Reset to first page when search changes\r\n    const handleSearch = (text: string) => {\r\n        setPage(1);\r\n        setSearch(text);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"dashboard-header-controls d-flex align-items-center justify-content-between mb-3\">\r\n                <h1 className=\"dashboard-title\">Teams</h1>\r\n                <Button color=\"primary\" onClick={() => navigate('/teams/_')}>\r\n                    <PlusCircle size={18} className=\"me-2\" />\r\n                    Create Team\r\n                </Button>\r\n            </div>\r\n            <Search searchText={search} onSearch={handleSearch} />\r\n            {pagedResult && (\r\n                <>\r\n                    <Table responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Description</th>\r\n                                <th>Time Zone</th>\r\n                                <th>Members</th>\r\n                                <th>Active</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {pagedResult.items.map(team => (\r\n                                <tr key={team.id}>\r\n                                    <td>{team.name}</td>\r\n                                    <td>{team.description}</td>\r\n                                    <td>{team.timeZone}</td>\r\n                                    <td>{team.memberCount}</td>\r\n                                    <td>{team.isActive ? 'Yes' : 'No'}</td>\r\n                                    <td>\r\n                                        <Button\r\n                                            color=\"secondary\"\r\n                                            size=\"sm\"\r\n                                            onClick={() =>\r\n                                                navigate(`/teams/${team.id}`)\r\n                                            }\r\n                                        >\r\n                                            <Edit size={16} className=\"me-1\" />\r\n                                            Edit\r\n                                        </Button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </Table>\r\n                    <Pagination\r\n                        pagedResult={pagedResult}\r\n                        onPageSelected={setPage}\r\n                        perPage={perPage}\r\n                        onPerPageSelected={onPerPageSelected}\r\n                    />\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TeamsPage;\r\n"],"names":["TeamsPage","page","setPage","useState","perPage","setPerPage","getRowsPerPage","search","setSearch","navigate","useNavigate","onPerPageSelected","pagedResult","apiError","awaitingResponse","fetchTeams","useGetPagedTeams","Spinner","jsx","ErrorDisplay","handleSearch","text","jsxs","Fragment","Button","PlusCircle","Search","Table","team","Edit","Pagination"],"mappings":"6hBAUA,MAAMA,EAAsB,IAAM,CAC9B,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,CAAC,EAC5B,CAACC,EAASC,CAAU,EAAIF,EAAA,SAASG,GAAgB,EACjD,CAACC,EAAQC,CAAS,EAAIL,EAAAA,SAAS,EAAE,EACjCM,EAAWC,EAAY,EAEvBC,EAAqBP,GAAoB,CAC3CF,EAAQ,CAAC,EACTG,EAAWD,CAAO,CACtB,EAEM,CACF,KAAMQ,EACN,MAAOC,EACP,UAAWC,EACX,QAASC,CACT,EAAAC,EAAiBf,EAAMG,EAASG,CAAM,EAE1C,GAAIO,EACA,aAAQG,EAAQ,EAAA,EAGpB,GAAIJ,EAEI,OAAAK,EAAA,IAACC,EAAA,CACG,MAAON,EACP,MAAM,wBACN,UAAW,IAAME,EAAW,CAAA,CAChC,EAKF,MAAAK,EAAgBC,GAAiB,CACnCnB,EAAQ,CAAC,EACTM,EAAUa,CAAI,CAClB,EAEA,OAEQC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI,UAAU,mFACX,SAAA,CAACJ,EAAA,IAAA,KAAA,CAAG,UAAU,kBAAkB,SAAK,QAAA,EACrCI,OAACE,GAAO,MAAM,UAAU,QAAS,IAAMf,EAAS,UAAU,EACtD,SAAA,CAAAS,EAAA,IAACO,EAAW,CAAA,KAAM,GAAI,UAAU,OAAO,EAAE,aAAA,CAE7C,CAAA,CAAA,EACJ,EACCP,EAAA,IAAAQ,EAAA,CAAO,WAAYnB,EAAQ,SAAUa,EAAc,EACnDR,GAEOU,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACD,EAAAA,KAAAK,EAAA,CAAM,WAAU,GACb,SAAA,CAACT,EAAA,IAAA,QAAA,CACG,gBAAC,KACG,CAAA,SAAA,CAAAA,EAAAA,IAAC,MAAG,SAAI,MAAA,CAAA,EACRA,EAAAA,IAAC,MAAG,SAAW,aAAA,CAAA,EACfA,EAAAA,IAAC,MAAG,SAAS,WAAA,CAAA,EACbA,EAAAA,IAAC,MAAG,SAAO,SAAA,CAAA,EACXA,EAAAA,IAAC,MAAG,SAAM,QAAA,CAAA,QACT,KAAG,CAAA,CAAA,CAAA,CAAA,CACR,CACJ,CAAA,QACC,QACI,CAAA,SAAAN,EAAY,MAAM,IAAIgB,UAClB,KACG,CAAA,SAAA,CAACV,EAAAA,IAAA,KAAA,CAAI,WAAK,IAAK,CAAA,EACfA,EAAAA,IAAC,KAAI,CAAA,SAAAU,EAAK,WAAY,CAAA,EACtBV,EAAAA,IAAC,KAAI,CAAA,SAAAU,EAAK,QAAS,CAAA,EACnBV,EAAAA,IAAC,KAAI,CAAA,SAAAU,EAAK,WAAY,CAAA,EACrBV,EAAA,IAAA,KAAA,CAAI,SAAKU,EAAA,SAAW,MAAQ,KAAK,QACjC,KACG,CAAA,SAAAN,EAAA,KAACE,EAAA,CACG,MAAM,YACN,KAAK,KACL,QAAS,IACLf,EAAS,UAAUmB,EAAK,EAAE,EAAE,EAGhC,SAAA,CAAAV,EAAA,IAACW,EAAK,CAAA,KAAM,GAAI,UAAU,OAAO,EAAE,MAAA,CAAA,CAAA,CAG3C,CAAA,CAAA,GAjBKD,EAAK,EAkBd,CACH,CACL,CAAA,CAAA,EACJ,EACAV,EAAA,IAACY,EAAA,CACG,YAAAlB,EACA,eAAgBV,EAChB,QAAAE,EACA,kBAAAO,CAAA,CAAA,CACJ,CACJ,CAAA,CAAA,EAER,CAER"}