{"version":3,"file":"useConfirm-BJxPeOzb.js","sources":["../../src/hooks/useConfirm.tsx"],"sourcesContent":["import React, {useState, useCallback, ReactNode} from 'react';\r\nimport {Modal, ModalHeader, ModalBody, ModalFooter, Button} from 'reactstrap';\r\n\r\ninterface ConfirmModalProps {\r\n    isOpen: boolean;\r\n    title: ReactNode;\r\n    content: ReactNode;\r\n    onConfirm: () => void;\r\n    onCancel: () => void;\r\n}\r\n\r\nconst ConfirmModal: React.FC<ConfirmModalProps> = ({\r\n    isOpen,\r\n    title,\r\n    content,\r\n    onConfirm,\r\n    onCancel\r\n}) => {\r\n    return (\r\n        <Modal isOpen={isOpen} toggle={onCancel}>\r\n            <ModalHeader toggle={onCancel}>\r\n                <span>{title}</span>\r\n            </ModalHeader>\r\n            <ModalBody>{content}</ModalBody>\r\n            <ModalFooter>\r\n                <Button color=\"secondary\" onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button color=\"primary\" onClick={onConfirm}>\r\n                    Confirm\r\n                </Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n};\r\n\r\ninterface ConfirmOptions {\r\n    title?: ReactNode;\r\n}\r\n\r\nconst useConfirm = () => {\r\n    const [modalState, setModalState] = useState<{\r\n        isOpen: boolean;\r\n        title: ReactNode;\r\n        content: ReactNode;\r\n        onConfirm: () => void;\r\n        onCancel: () => void;\r\n    }>({\r\n        isOpen: false,\r\n        title: '',\r\n        content: '',\r\n        onConfirm: () => {},\r\n        onCancel: () => {}\r\n    });\r\n\r\n    const closeConfirm = useCallback(() => {\r\n        setModalState(prev => ({...prev, isOpen: false}));\r\n    }, []);\r\n\r\n    const confirm = useCallback(\r\n        (\r\n            content: ReactNode,\r\n            onConfirm: () => void,\r\n            options: ConfirmOptions = {},\r\n            onCancel?: () => void\r\n        ) => {\r\n            setModalState({\r\n                isOpen: true,\r\n                title: options.title || 'Confirm',\r\n                content,\r\n                onConfirm: () => {\r\n                    closeConfirm();\r\n                    onConfirm();\r\n                },\r\n                onCancel: () => {\r\n                    closeConfirm();\r\n                    if (onCancel) {\r\n                        onCancel();\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        [closeConfirm]\r\n    );\r\n\r\n    const confirmModal = (\r\n        <ConfirmModal\r\n            isOpen={modalState.isOpen}\r\n            title={modalState.title}\r\n            content={modalState.content}\r\n            onConfirm={modalState.onConfirm}\r\n            onCancel={modalState.onCancel}\r\n        />\r\n    );\r\n\r\n    return {confirm, confirmModal, closeConfirm};\r\n};\r\n\r\nexport default useConfirm;\r\n"],"names":["ConfirmModal","isOpen","title","content","onConfirm","onCancel","jsxs","Modal","jsx","ModalHeader","ModalBody","ModalFooter","Button","useConfirm","modalState","setModalState","useState","closeConfirm","useCallback","prev","confirm","options","confirmModal"],"mappings":"yHAWA,MAAMA,EAA4C,CAAC,CAC/C,OAAAC,EACA,MAAAC,EACA,QAAAC,EACA,UAAAC,EACA,SAAAC,CACJ,IAESC,EAAAA,KAAAC,EAAA,CAAM,OAAAN,EAAgB,OAAQI,EAC3B,SAAA,CAAAG,EAAAA,IAACC,GAAY,OAAQJ,EACjB,SAACG,MAAA,OAAA,CAAM,WAAM,CACjB,CAAA,EACAA,EAAAA,IAACE,GAAW,SAAQP,CAAA,CAAA,SACnBQ,EACG,CAAA,SAAA,CAAAH,MAACI,EAAO,CAAA,MAAM,YAAY,QAASP,EAAU,SAE7C,SAAA,QACCO,EAAO,CAAA,MAAM,UAAU,QAASR,EAAW,SAE5C,SAAA,CAAA,CAAA,CACJ,CAAA,CAAA,EACJ,EAQFS,EAAa,IAAM,CACrB,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAMjC,CACC,OAAQ,GACR,MAAO,GACP,QAAS,GACT,UAAW,IAAM,CAAC,EAClB,SAAU,IAAM,CAAA,CAAC,CACpB,EAEKC,EAAeC,EAAAA,YAAY,IAAM,CACnCH,MAAuB,CAAC,GAAGI,EAAM,OAAQ,IAAO,CACpD,EAAG,EAAE,EAECC,EAAUF,EAAA,YACZ,CACIf,EACAC,EACAiB,EAA0B,CAAA,EAC1BhB,IACC,CACaU,EAAA,CACV,OAAQ,GACR,MAAOM,EAAQ,OAAS,UACxB,QAAAlB,EACA,UAAW,IAAM,CACAc,EAAA,EACHb,EAAA,CACd,EACA,SAAU,IAAM,CACCa,EAAA,EACTZ,GACSA,EAAA,CACb,CACJ,CACH,CACL,EACA,CAACY,CAAY,CACjB,EAEMK,EACFd,EAAA,IAACR,EAAA,CACG,OAAQc,EAAW,OACnB,MAAOA,EAAW,MAClB,QAASA,EAAW,QACpB,UAAWA,EAAW,UACtB,SAAUA,EAAW,QAAA,CACzB,EAGG,MAAA,CAAC,QAAAM,EAAS,aAAAE,EAAc,aAAAL,CAAY,CAC/C"}