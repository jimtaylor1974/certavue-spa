import{v as b,k as C,j as e,H as k,A as i,B as a,s as N}from"./index-C-RVz6Ax.js";import{C as j,a as m}from"./CardBody-sAodfdc3.js";import{C as p}from"./CardHeader-BbDm1jLk.js";import{T as P}from"./Table-cGpuXjD_.js";import{u as T,g as B,f as D,a as F,b as U}from"./utility-roII09-_.js";import{A as f}from"./arrow-left-CKa1zYBL.js";const R=()=>{const{filePath:l}=b(),g=C(),r=l?decodeURIComponent(l):"",{data:n,isLoading:w,isError:y,error:o}=T(r.substring(0,r.lastIndexOf("/"))),s=n==null?void 0:n.find(v=>v.path===r),t=U(r),u=B(r),d=()=>{g("/sysadmin/contents")};if(w)return e.jsx(k,{color:"primary"});if(y)return e.jsxs(i,{color:"danger",children:["Error loading file:"," ",o instanceof Error?o.message:"Unknown error"]});if(!s)return e.jsxs(i,{color:"warning",children:["File not found: ",r,e.jsx("div",{className:"mt-3",children:e.jsxs(a,{color:"secondary",onClick:d,children:[e.jsx(f,{size:16,className:"me-1"})," Back to Files"]})})]});const c=s.contentType.startsWith("image/"),h=s.contentType==="application/pdf",x=["text/plain","text/markdown","text/html","text/css","application/javascript","application/json"].includes(s.contentType);return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("h3",{children:["File: ",s.name]}),e.jsxs("div",{children:[e.jsxs(a,{color:"secondary",className:"me-2",onClick:d,children:[e.jsx(f,{size:16,className:"me-1"})," Back"]}),e.jsxs(a,{color:"primary",tag:"a",href:u,target:"_blank",children:[e.jsx(N,{size:16,className:"me-1"})," Download"]})]})]}),e.jsxs(j,{className:"mb-4",children:[e.jsx(p,{children:"File Details"}),e.jsx(m,{children:e.jsx(P,{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{style:{width:"150px"},children:"Name"}),e.jsx("td",{children:s.name})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Path"}),e.jsx("td",{children:s.path})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("td",{children:s.contentType})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Size"}),e.jsx("td",{children:D(s.size)})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Last Modified"}),e.jsx("td",{children:F(new Date(s.lastModified))})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"URL"}),e.jsx("td",{children:e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:t})})]})]})})})]}),e.jsxs(j,{children:[e.jsx(p,{children:"Preview"}),e.jsxs(m,{children:[c&&e.jsx("div",{className:"text-center",children:e.jsx("img",{src:t,alt:s.name,className:"img-fluid",style:{maxHeight:"500px"}})}),h&&e.jsx("div",{className:"text-center",children:e.jsx("object",{data:t,type:"application/pdf",width:"100%",height:"600px",children:e.jsxs("p",{children:["Your browser doesn't support embedded PDFs.",e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:"Click here to view the PDF"})]})})}),x&&e.jsxs("div",{children:[e.jsx("p",{children:"Text content preview:"}),e.jsx("iframe",{src:t,title:s.name,width:"100%",height:"400px",style:{border:"1px solid #dee2e6"}})]}),!c&&!h&&!x&&e.jsx(i,{color:"info",children:"Preview not available for this file type. Please download the file to view its contents."})]})]})]})};export{R as default};
//# sourceMappingURL=ContentFilePreviewPage-Wb74kWzO.js.map
