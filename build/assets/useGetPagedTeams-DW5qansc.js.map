{"version":3,"file":"useGetPagedTeams-DW5qansc.js","sources":["../../src/api/teams/useGetPagedTeams.ts"],"sourcesContent":["import {PagedResult, TeamInfoModel} from '../../types';\r\nimport {UseQueryOptions, UseQueryResult, useQuery} from '@tanstack/react-query';\r\nimport baseUrl from '../baseUrl';\r\nimport {useCreateAuthenticatedFetch} from '../useCreateAuthenticatedFetch';\r\nimport {handleResponse} from '../handleResponse';\r\nimport ProblemDetailsError from '../ProblemDetailsError';\r\n\r\ntype PagedTeamsQueryOptions = Omit<\r\n    UseQueryOptions<\r\n        PagedResult<TeamInfoModel>,\r\n        Error | ProblemDetailsError,\r\n        PagedResult<TeamInfoModel>,\r\n        readonly unknown[]\r\n    >,\r\n    'queryKey' | 'queryFn'\r\n>;\r\n\r\nconst useGetPagedTeams = (\r\n    page: number,\r\n    perPage: number,\r\n    search?: string | null,\r\n    options?: PagedTeamsQueryOptions\r\n): UseQueryResult<PagedResult<TeamInfoModel>, Error> => {\r\n    const queryParams = new URLSearchParams();\r\n    queryParams.append('page', String(page));\r\n    queryParams.append('perPage', String(perPage));\r\n\r\n    if (search) {\r\n        queryParams.append('search', search);\r\n    }\r\n\r\n    const url = `${baseUrl}/api/teams?${queryParams.toString()}`;\r\n    const queryKey = ['teams', {page, perPage, search}];\r\n\r\n    const authenticatedFetch = useCreateAuthenticatedFetch();\r\n\r\n    return useQuery({\r\n        queryKey,\r\n        queryFn: async () => {\r\n            const response = await authenticatedFetch(url);\r\n            return handleResponse<PagedResult<TeamInfoModel>>(response);\r\n        },\r\n        ...options\r\n    });\r\n};\r\n\r\nexport default useGetPagedTeams;\r\n"],"names":["useGetPagedTeams","page","perPage","search","options","queryParams","url","baseUrl","queryKey","authenticatedFetch","useCreateAuthenticatedFetch","useQuery","response","handleResponse"],"mappings":"6DAiBA,MAAMA,EAAmB,CACrBC,EACAC,EACAC,EACAC,IACoD,CAC9C,MAAAC,EAAc,IAAI,gBACxBA,EAAY,OAAO,OAAQ,OAAOJ,CAAI,CAAC,EACvCI,EAAY,OAAO,UAAW,OAAOH,CAAO,CAAC,EAEzCC,GACYE,EAAA,OAAO,SAAUF,CAAM,EAGvC,MAAMG,EAAM,GAAGC,CAAO,cAAcF,EAAY,UAAU,GACpDG,EAAW,CAAC,QAAS,CAAC,KAAAP,EAAM,QAAAC,EAAS,OAAAC,EAAO,EAE5CM,EAAqBC,EAA4B,EAEvD,OAAOC,EAAS,CACZ,SAAAH,EACA,QAAS,SAAY,CACX,MAAAI,EAAW,MAAMH,EAAmBH,CAAG,EAC7C,OAAOO,EAA2CD,CAAQ,CAC9D,EACA,GAAGR,CAAA,CACN,CACL"}