import{r as t}from"./index-Bl7Wb9NM.js";function i(r,a){const s=t.useCallback(()=>{if(typeof window>"u")return a;try{const e=window.localStorage.getItem(r);return e?JSON.parse(e):a}catch(e){return console.warn(`Error reading localStorage key "${r}":`,e),a}},[r]),[u,c]=t.useState(s),l=t.useCallback(e=>{try{c(o=>{const n=e instanceof Function?e(o):e;return typeof window<"u"&&window.localStorage.setItem(r,JSON.stringify(n)),n})}catch(o){console.warn(`Error setting localStorage key "${r}":`,o)}},[r]);return t.useEffect(()=>{c(s())},[s]),t.useEffect(()=>{const e=o=>{if(o.key===r&&o.newValue)try{c(JSON.parse(o.newValue))}catch(n){console.warn(`Error parsing localStorage value for key "${r}":`,n)}};if(typeof window<"u")return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[r]),[u,l]}export{i as u};
//# sourceMappingURL=useLocalStorage-BzsSH8MJ.js.map
