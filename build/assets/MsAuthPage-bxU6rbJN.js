import{r as e,j as t,E as p}from"./index-kwN8UPoG.js";import{S as d}from"./Spinner-Dh-gWPre.js";import{L as f}from"./types-46npvi_j.js";import{u as m}from"./useSocialAuthLogin-fd4a4OtI.js";const x=()=>{const[s,n]=e.useState(null),{mutate:i,isPending:a}=m({onSuccess:r=>{if(r.authError&&r.authError.error!=="invalid_grant"){n(r.authError);return}window.opener.onSocialAuthLogin(r),window.close()},onError:r=>{n(r)}}),o=window.location.hash;return e.useEffect(()=>{if(o.indexOf("#")!==-1){const c=o.substr(1).split("&")[0].split("=")[1],u={provider:f.Microsoft,token:c};i(u)}},[o,i]),t.jsxs("div",{className:"container",children:[a&&!s&&t.jsx(d,{}),t.jsx(p,{error:s})]})};export{x as default};
//# sourceMappingURL=MsAuthPage-bxU6rbJN.js.map
